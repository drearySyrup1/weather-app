(()=>{"use strict";const e=[{x:0,y:0},{x:0,y:3},{x:.5,y:7},{x:1.5,y:11},{x:2.5,y:15},{x:3.5,y:19},{x:5,y:23},{x:6.5,y:27},{x:8,y:31},{x:10,y:34},{x:12,y:38},{x:15,y:43},{x:17.5,y:47},{x:20,y:50},{x:23,y:54},{x:25,y:56},{x:30,y:61},{x:35,y:65},{x:40,y:69},{x:45,y:72.5},{x:50,y:75.5},{x:55,y:78},{x:60,y:80},{x:65,y:82},{x:70,y:83.5},{x:75,y:85},{x:80,y:86},{x:85,y:87},{x:90,y:87.5},{x:95,y:87.5},{x:100,y:87.5},{x:105,y:87},{x:110,y:86.5},{x:115,y:86},{x:120,y:85},{x:125,y:83.5},{x:130,y:82},{x:135,y:80},{x:140,y:78},{x:145,y:75},{x:150,y:72},{x:155,y:68.5},{x:160,y:65},{x:165,y:60},{x:170,y:55},{x:173,y:51},{x:175,y:49},{x:177.5,y:45},{x:180,y:42},{x:182,y:38},{x:185,y:33},{x:186.5,y:29},{x:188.5,y:25},{x:190,y:20},{x:191.5,y:16},{x:192.5,y:12},{x:193.5,y:8},{x:194,y:4},{x:194,y:0}],n=new Promise(((n,t)=>{window.addEventListener("DOMContentLoaded",(()=>{const t=document.querySelector(".groupy");t.style.cssText="\n        --x: -162px;\n        --y: 63px;\n        transform: translate(var(--x), var(--y));\n        opacity: .4;\n      ";const c=parseInt(getComputedStyle(t).getPropertyValue("--x")),o=parseInt(getComputedStyle(t).getPropertyValue("--y"));const i=function(e){let n=1;return function(t){setTimeout(t,e*n),n++}}(20),a=n=>{const i=e[(n=>Math.round((e.length-1)*n/100))(n)];(e=>{const n=c+e;t.style.setProperty("--x",`${n}px`)})(i.x),(e=>{const n=o-e;t.style.setProperty("--y",`${n}px`)})(i.y)};n({setState:a,animate:e=>{for(let n=0;n<=e;n++)i((()=>a(n)))}})}))})),t="https://images.unsplash.com/photo-1613114016545-8352ff5b8d9c?crop=entropy&cs=tinysrgb&fit=crop&fm=jpg&h=1080&ixid=MnwxfDB8MXxyYW5kb218MHx8c3Rvcm18fHx8fHwxNjYyMDE3MDgw&ixlib=rb-1.2.1&q=80&utm_campaign=api-credit&utm_medium=referral&utm_source=unsplash_source&w=1920",c="https://img.freepik.com/free-vector/realistic-clouds-with-rainfall-background_1017-32362.jpg?w=740&t=st=1662017266~exp=1662017866~hmac=a5c9d993febb32413c7f5d1a6fea0f7646e7b4f806db70d04e23ac1104dcf040",o="https://img.freepik.com/free-vector/realistic-clouds-with-rainfall-background_1017-32362.jpg?w=740&t=st=1662017266~exp=1662017866~hmac=a5c9d993febb32413c7f5d1a6fea0f7646e7b4f806db70d04e23ac1104dcf040",i="https://media.istockphoto.com/photos/smoke-or-fog-isolated-on-black-background-picture-id1285249688?k=20&m=1285249688&s=612x612&w=0&h=aVmgHI5840GDzqNbiWTtfQCQztar_Nh2vNdd-swjYHo=",a="https://s3.ap-southeast-1.amazonaws.com/images.deccanchronicle.com/dc-Cover-f7g4ahl5gc3b1fhn4ff72vr0e6-20180406114314.Medi.jpeg",s="https://images.unsplash.com/photo-1496450681664-3df85efbd29f?crop=entropy&cs=tinysrgb&fit=crop&fm=jpg&h=1080&ixid=MnwxfDB8MXxyYW5kb218MHx8Y2xvdWRzfHx8fHx8MTY2MjAxNjg1NQ&ixlib=rb-1.2.1&q=80&utm_campaign=api-credit&utm_medium=referral&utm_source=unsplash_source&w=1920",l=document.getElementById("searchCity"),r=document.getElementById("dropdown"),d=document.getElementById("cityname"),m=document.getElementById("current-temp"),u=document.getElementById("daynight-temp"),y=document.getElementById("currentweather"),x=document.getElementById("hrly"),p=document.getElementById("humidity"),h=document.getElementById("feels-like"),g=document.getElementById("uv-index"),f=document.getElementById("daily"),w=document.getElementById("wind-direction"),M=document.getElementById("wind-speed"),b=document.getElementById("widget"),v=document.getElementById("sunriseTime"),Z=document.getElementById("sunsetTime"),L=document.getElementById("moonPhase"),k=document.getElementById("weather-bg");async function C(e){const n=await fetch("http://api.positionstack.com/v1/forward?"+new URLSearchParams({access_key:"946bbe6c6b1ffaaf51b1197cace72d6c",query:e,timezone_module:1},{mode:"cors"}));return await n.json()}function E(e){return e>=200&&e<300?t:e>=300&&e<600?c:e>=600&&e<700?o:e>=700&&e<800?i:800===e?a:e>=801&&e<900?s:void console.log(e)}function T(e){return e>=200&&e<300?"mdi-weather-lightning":e>=300&&e<600?"mdi-weather-pouring":e>=600&&e<700?"mdi-weather-snowy-heavy":e>=700&&e<800?"mdi-weather-fog":800===e?"mdi-white-balance-sunny":e>=801&&e<900?"mdi-weather-cloudy":void console.log(e)}function B(e,t,c,o){(async function(e,n,t){const c=await fetch("https://api.openweathermap.org/data/3.0/onecall?"+new URLSearchParams({lat:n,lon:e,exclude:"minutely",appid:"843ab010b60ac822958cfb668ec1aa3a",units:"metric"})),o=await c.json();return console.log(o),o})(e,t).then((e=>{k.style.cssText=`\n    background: url('${E(e.current.weather[0].id)}');\n    background-size: 100%;\n    background-position: center;\n    background-repeat: no-repeat;\n    `,console.log(E(e.current.weather[0].id)),d.innerText=o,m.innerHTML=Math.round(e.current.temp),u.innerHTML=`${Math.round(e.daily[0].temp.day)} <span class="ntext">/ ${Math.round(e.daily[0].temp.night)} 째C</span>`,y.innerHTML=e.current.weather[0].description,x.innerHTML="",e.hourly.forEach(((e,n)=>{const t=new Date(1e3*e.dt).toLocaleString("en-GB",{timeZone:c}).split(",")[1].trim().slice(0,5),o=document.createElement("div");o.classList.add("card"),0===n&&o.classList.add("current"),o.innerHTML=`\n      <p>${function(e){const n=e.split(":"),t=parseInt(n[0]);let c=t>11?"pm":"am";return`${t%12==0?12:t%12}:${n[1]} ${c}`}(t)}</p>\n      <p>${e.humidity}%</p>\n      <span class="mdi ${T(e.weather[0].id)}"></span>\n      <p class="dgr">${Math.round(e.temp)}째C</p>\n      `,x.append(o)})),f.innerHTML="",e.daily.forEach(((e,n)=>{if(0===n)return;const t=new Date(1e3*e.dt).toLocaleString("en-GB",{timeZone:c,day:"numeric",month:"short"}),o=new Date(1e3*e.dt).toLocaleString("en-GB",{timeZone:c,weekday:"short"}),i=function(e,n){const t=e=>"Mon"===e?1:"Tue"===e?2:"Wed"===e?3:"Thu"===e?4:"Fri"===e?5:"Sat"===e?6:"Sun"===e?7:void 0,c=t(e);return t(n)-1===c}((new Date).toLocaleString("en-GB",{timeZone:c,weekday:"short"}),o)?"Tomorrow":o,a=document.createElement("div");a.classList.add("row"),a.innerHTML=`\n        <div class="left">\n          <p>${i},</p>\n          <p>${t}</p>\n        </div>\n        <div class="mid">\n          <span class="mdi ${T(e.weather[0].id)}"></span>\n        </div>\n        <div class="right">\n          <p class="dn">${Math.round(e.temp.day)} <span class="ntext">/ ${Math.round(e.temp.night)} 째C</span></p>\n        </div>\n      `,f.append(a)})),p.innerHTML=`${e.current.humidity}%`,h.innerHTML=`${Math.round(e.current.feels_like)}째C`;const t=Math.round(e.current.uvi);var i;g.innerHTML=`${t} ${function(e){return e<=2?"Low":e<=5?"Medium":e<=7?"High":e<=10?"Very High":e>=11?"Extremely High":void 0}(t)}`,console.log(e.current.wind_deg),w.innerHTML=(i=e.current.wind_deg)<45||360===i?"North":i<90?"North East":i<135?"East":i<180?"South East":i<225?"South":i<270?"South West":i<315?"West":i<360?"North West":i,M.innerHTML=`${Math.round(3.6*e.current.wind_speed)} km/h`,function(e,t,c,o){const i=new Date(1e3*e).toLocaleString("en-GB",{timeZone:c,hour12:!0,hour:"numeric",minute:"numeric"}),a=new Date(1e3*t).toLocaleString("en-GB",{timeZone:c,hour12:!0,hour:"numeric",minute:"numeric"}),s=((new Date).toLocaleString("en-GB",{timeZone:c,hour12:!0,hour:"numeric",minute:"numeric"}),Date.now()),l=Math.round((t-e)/60),r=(t-s/1e3)/60;let d=100-Math.round(100*r/l);d>100&&(d=100),d<0&&(d=0);for(let e=0;e<=d;e++)setTimeout((()=>{n.then((({setState:n})=>n(e)))}),20*e);v.innerHTML=i,Z.innerHTML=a;const m=function(e){const n=[0,1],t=.25,c=.75;return e===n[0]||e===n[1]?{moon:"New Moon",icon:"mdi-moon-new"}:e===t?{moon:"First Quarter Moon",icon:"mdi-moon-first-quarter"}:.5===e?{moon:"Full Moon",icon:"mdi-moon-full"}:e===c?{moon:"Last Quarter Moon",icon:"mdi-moon-last-quarter"}:e>n[0]&&e<t?{moon:"Waxing Crescent",icon:"mdi-moon-waxing-crescent"}:e>t&&e<.5?{moon:"Waxing Gibbous",icon:"mdi-moon-waxing-gibbous-"}:e>.5&&e<c?{moon:"Waning Gibbous",icon:"mdi-moon-waning-gibbous"}:e>c&&e<n[1]?{moon:"Waning Crescent",icon:"mdi-moon-waning-crescent"}:void 0}(o);L.innerHTML=`<span class="mdi ${m.icon}"></span> ${m.moon}`}(e.daily[0].sunrise,e.daily[0].sunset,c,e.daily[0].moon_phase)}))}if(b.innerHTML='\n    <svg\n      style="width: 300px;opacity: 1;"\n      id="Layer_1"\n      data-name="Layer 1"\n      xmlns="http://www.w3.org/2000/svg"\n      viewBox="0 -20 225.56 120.89"\n    >\n      <defs>\n        <style>\n        \n        \n\n          .line {\n            fill: black;\n            stroke: black;\n          }\n\n          .cls-1,\n          .cls-4 {\n            fill: #fff;\n          }\n\n\n          .cls-3,\n          .cls-6 {\n            fill: none;\n          }\n\n          .cls-3,\n          .cls-4,\n          .cls-6 {\n            stroke-miterlimit: 10;\n          }\n\n          .cls-5 {\n            fill: #fff200;\n          }\n\n          .cls-6 {\n            stroke: #fff200;\n            stroke-linecap: round;\n          }\n\n        .cls-2,\n        .cls-3,\n        .cls-4 {\n          --color: hsl(0 0% 100% / .4);\n          fill: var(--color);\n          stroke: var(--color)\n        }\n        </style>\n      </defs>\n      <g>\n        <path\n          stroke-width="0"\n          class="cls-2"\n          d="M20,95.11h-.5v.33c0,1-.05,2-.05,3h1c0-1,0-2,.05-2.93v-.35Zm196.13-1.06-.5,0-.5,0c.06,1.32.09,2.66.09,4h1C216.17,96.73,216.14,95.38,216.08,94.05ZM20.55,87.12,20,87.06c-.15,1.33-.28,2.67-.38,4l.51,0,.49,0c.1-1.32.22-2.65.37-4ZM215.41,86l-.49.06-.51.07c.17,1.31.31,2.64.42,4l.5,0,.49,0C215.71,88.71,215.57,87.37,215.41,86ZM21.79,79.22l-.51-.1c-.26,1.31-.49,2.64-.7,4l.5.08.49.07c.2-1.3.44-2.62.69-3.91Zm192.29-1.1-.48.1-.5.1c.27,1.3.52,2.62.74,3.91l.5-.08.48-.08C214.61,80.76,214.36,79.43,214.08,78.12ZM23.65,71.44l-.48-.13c-.37,1.29-.71,2.59-1,3.89l.5.12.48.11c.31-1.28.65-2.57,1-3.85Zm188.46-1.11-.48.14-.48.14c.38,1.26.73,2.55,1.06,3.84l.49-.13.48-.12C212.85,72.91,212.49,71.6,212.11,70.33ZM26.17,63.85l-.47-.18c-.48,1.25-.93,2.53-1.35,3.8l.48.16.47.15c.42-1.25.86-2.52,1.33-3.76Zm183.34-1.12-.47.19-.46.18c.47,1.23.93,2.48,1.36,3.72l.47-.16.47-.16C210.46,65.24,210,64,209.51,62.73ZM29.3,56.47l-.45-.22c-.58,1.21-1.13,2.45-1.66,3.68l.47.2.45.19c.52-1.22,1.07-2.44,1.64-3.64Zm177-1.08-.45.22-.44.21c.57,1.18,1.13,2.4,1.66,3.61l.46-.2L208,59C207.44,57.8,206.88,56.58,206.29,55.39ZM33,49.38l-.44-.25c-.67,1.16-1.32,2.34-1.94,3.52l.45.24.43.23c.62-1.17,1.26-2.34,1.93-3.49Zm169.46-1.06-.43.25-.43.26c.68,1.14,1.33,2.31,2,3.46l.44-.24.44-.23C203.84,50.65,203.17,49.47,202.49,48.32ZM37.33,42.63l-.42-.29c-.77,1.1-1.51,2.22-2.23,3.35l.43.27.42.26c.7-1.11,1.44-2.22,2.2-3.31Zm160.79-1-.41.29-.41.28c.78,1.09,1.53,2.2,2.23,3.29l.42-.27.42-.27C199.66,43.8,198.9,42.69,198.12,41.59Zm-156-5.34-.39-.33c-.84,1-1.68,2.09-2.49,3.16l.41.31.39.29c.8-1,1.63-2.1,2.46-3.12Zm151.07-1-.39.33-.38.32c.85,1,1.69,2.05,2.49,3.1l.39-.3.4-.31C194.92,37.3,194.07,36.25,193.22,35.22ZM47.49,30.28l-.37-.35c-.93,1-1.85,1.95-2.74,2.94l.38.34.37.33c.87-1,1.78-2,2.71-2.92Zm140.32-1-.36.36-.35.34c.93.94,1.85,1.92,2.73,2.89l.37-.33.37-.34C189.68,31.21,188.75,30.23,187.81,29.28ZM53.27,24.77l-.33-.38c-1,.88-2,1.79-3,2.71l.34.36.34.36c1-.91,2-1.81,2.94-2.68Zm128.66-1-.33.38-.32.38c1,.87,2,1.76,3,2.66l.35-.37.34-.36C184,25.57,183,24.67,181.93,23.79Zm-122.43-4-.31-.42c-1.06.8-2.13,1.62-3.17,2.46l.32.4.31.38c1-.83,2.08-1.65,3.14-2.43Zm116.13-1-.3.41-.29.4c1.08.78,2.14,1.59,3.17,2.4l.3-.38.32-.4C177.8,20.41,176.72,19.59,175.63,18.8ZM66.1,15.25l-.27-.42c-1.13.7-2.26,1.44-3.36,2.19l.28.42.28.4c1.09-.74,2.21-1.47,3.33-2.17Zm102.84-.92-.26.43-.26.42c1.13.69,2.26,1.41,3.35,2.15l.28-.42.28-.41C171.22,15.76,170.08,15,168.94,14.33Zm-95.89-3-.24-.46c-1.19.62-2.38,1.26-3.53,1.91l.25.44.24.43c1.15-.65,2.32-1.28,3.5-1.89Zm88.85-.9-.23.46-.22.44c1.18.59,2.37,1.22,3.52,1.86l.24-.43.25-.44C164.29,11.66,163.09,11,161.9,10.42ZM80.28,8l-.19-.46c-1.23.5-2.46,1-3.68,1.61l.22.46.21.45c1.2-.56,2.42-1.1,3.63-1.6Zm74.28-.84-.19.47-.18.46c1.23.49,2.46,1,3.66,1.56l.2-.45.21-.46C157.05,8.14,155.8,7.61,154.56,7.11ZM87.78,5.19l-.16-.48c-1.27.41-2.55.85-3.8,1.31l.18.47.17.47c1.23-.45,2.5-.89,3.76-1.29ZM147,4.41l-.15.48-.15.48c1.27.39,2.54.81,3.78,1.25l.16-.46.17-.48C149.54,5.23,148.26,4.81,147,4.41ZM95.48,3.06l-.12-.49c-1.29.3-2.6.63-3.89,1l.14.48.13.48c1.27-.35,2.57-.68,3.85-1Zm43.73-.71-.11.5-.11.47c1.3.29,2.6.61,3.87.95l.13-.48.13-.49C141.83,3,140.52,2.64,139.21,2.35Zm-35.88-.79-.07-.49c-1.33.19-2.66.42-4,.67l.09.49.09.49c1.3-.25,2.61-.47,3.93-.67Zm28-.63-.07.5-.07.49c1.31.18,2.63.39,3.93.62l.09-.49.09-.49C134,1.32,132.62,1.11,131.3.93Zm-20-.22,0-.49c-1.33.08-2.68.2-4,.34l0,.49,0,.5c1.32-.14,2.65-.25,4-.34Zm12-.55,0,.5,0,.5c1.32.07,2.65.17,4,.3l.05-.49,0-.51C126,.34,124.64.23,123.3.16Zm-8-.13,0,1c1.32,0,2.65,0,4,0V0C117.94,0,116.6,0,115.27,0Z"\n        />\n      </g>\n      <polyline\n        class="cls-3"\n        points="0 98.39 19.39 98.39 19.89 98.39 20.39 98.39 215.68 98.39 235.56 98.39"\n      />\n      \x3c!-- <path class="cls-4" d="M117.78,101.23" /> --\x3e\n      <g class="groupy">\n        <circle\n          stroke-width="0"\n          class="cls-5"\n          cx="182.59"\n          cy="24.99"\n          r="9.64"\n        />\n        <line class="cls-6" x1="182.83" y1="4.53" x2="182.83" y2="12.28" />\n        <line class="cls-6" x1="168.29" y1="10.35" x2="173.77" y2="15.83" />\n        <line class="cls-6" x1="162.13" y1="24.75" x2="169.87" y2="24.75" />\n        <line class="cls-6" x1="167.95" y1="39.28" x2="173.43" y2="33.81" />\n        <line class="cls-6" x1="182.34" y1="45.45" x2="182.34" y2="37.7" />\n        <line class="cls-6" x1="196.88" y1="39.63" x2="191.4" y2="34.15" />\n        <line class="cls-6" x1="203.04" y1="25.23" x2="195.3" y2="25.23" />\n        <line class="cls-6" x1="197.22" y1="10.69" x2="191.75" y2="16.17" />\n        \x3c!-- <line class="line" x1="173" y1="25" x2="192.5" y2="25" />\n        <line class="line" x1="182.83" y1="15" x2="182.83" y2="34.5" /> --\x3e\n      </g>\n    </svg>',l.addEventListener("keydown",(e=>{13===e.keyCode&&""!==l.value&&C(l.value).then((({data:e})=>{r.innerHTML="",e.forEach(((n,t)=>{const c=document.createElement("div");c.classList.add("dropdown-item"),c.innerText=n.label,c.dataset.id=t,c.addEventListener("click",(n=>{const t=n.currentTarget.dataset.id;localStorage.lastSearch=JSON.stringify({city:l.value,id:t});B(e[t].longitude,e[t].latitude,e[t].timezone_module.name,e[t].name)})),r.append(c)})),r.style.visibility="visible"}))})),l.addEventListener("focusout",(()=>{setTimeout((()=>{r.style.visibility="hidden"}),300)})),localStorage.lastSearch){const e=JSON.parse(localStorage.lastSearch);C(e.city).then((({data:n})=>{B(n[e.id].longitude,n[e.id].latitude,n[e.id].timezone_module.name,n[e.id].name)}))}else B(76.7784,30.728092,"Asia/Kolkata","Chandigarh")})();